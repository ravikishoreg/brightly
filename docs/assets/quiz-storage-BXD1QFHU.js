function x(){return`
    <header class="app-header">
      <div class="header-content">
        <div class="header-left">
          <a href="${window.location.pathname.includes("/pages/")?"../index.html":"index.html"}" class="home-link">üè† Home</a>
        </div>
        <div class="header-right">
          <button id="learn-mode-btn" class="secondary-btn learn-mode-btn" style="display: none;">üìö Learn Mode</button>
          <div id="auth-section">
            <!-- Auth content will be populated by GitHubAuth.updateUI() -->
          </div>
        </div>
      </div>
    </header>
  `}function z(){const w=x();document.body.insertAdjacentHTML("afterbegin",w)}function I(w){const r=document.getElementById("learn-mode-btn");r&&(r.style.display=w?"inline-block":"none")}function U(w){const r=document.getElementById("learn-mode-btn");if(r){const s=r.cloneNode(!0);r.parentNode.replaceChild(s,r),s.addEventListener("click",w)}}function L(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w}var R={exports:{}},T;function B(){return T||(T=1,function(w){var r=function(){var s=String.fromCharCode,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",E={};function M(t,n){if(!E[t]){E[t]={};for(var a=0;a<t.length;a++)E[t][t.charAt(a)]=a}return E[t][n]}var S={compressToBase64:function(t){if(t==null)return"";var n=S._compress(t,6,function(a){return m.charAt(a)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return t==null?"":t==""?null:S._decompress(t.length,32,function(n){return M(m,t.charAt(n))})},compressToUTF16:function(t){return t==null?"":S._compress(t,15,function(n){return s(n+32)})+" "},decompressFromUTF16:function(t){return t==null?"":t==""?null:S._decompress(t.length,16384,function(n){return t.charCodeAt(n)-32})},compressToUint8Array:function(t){for(var n=S.compress(t),a=new Uint8Array(n.length*2),o=0,l=n.length;o<l;o++){var h=n.charCodeAt(o);a[o*2]=h>>>8,a[o*2+1]=h%256}return a},decompressFromUint8Array:function(t){if(t==null)return S.decompress(t);for(var n=new Array(t.length/2),a=0,o=n.length;a<o;a++)n[a]=t[a*2]*256+t[a*2+1];var l=[];return n.forEach(function(h){l.push(s(h))}),S.decompress(l.join(""))},compressToEncodedURIComponent:function(t){return t==null?"":S._compress(t,6,function(n){return v.charAt(n)})},decompressFromEncodedURIComponent:function(t){return t==null?"":t==""?null:(t=t.replace(/ /g,"+"),S._decompress(t.length,32,function(n){return M(v,t.charAt(n))}))},compress:function(t){return S._compress(t,16,function(n){return s(n)})},_compress:function(t,n,a){if(t==null)return"";var o,l,h={},y={},A="",_="",d="",g=2,p=3,u=2,f=[],e=0,c=0,i;for(i=0;i<t.length;i+=1)if(A=t.charAt(i),Object.prototype.hasOwnProperty.call(h,A)||(h[A]=p++,y[A]=!0),_=d+A,Object.prototype.hasOwnProperty.call(h,_))d=_;else{if(Object.prototype.hasOwnProperty.call(y,d)){if(d.charCodeAt(0)<256){for(o=0;o<u;o++)e=e<<1,c==n-1?(c=0,f.push(a(e)),e=0):c++;for(l=d.charCodeAt(0),o=0;o<8;o++)e=e<<1|l&1,c==n-1?(c=0,f.push(a(e)),e=0):c++,l=l>>1}else{for(l=1,o=0;o<u;o++)e=e<<1|l,c==n-1?(c=0,f.push(a(e)),e=0):c++,l=0;for(l=d.charCodeAt(0),o=0;o<16;o++)e=e<<1|l&1,c==n-1?(c=0,f.push(a(e)),e=0):c++,l=l>>1}g--,g==0&&(g=Math.pow(2,u),u++),delete y[d]}else for(l=h[d],o=0;o<u;o++)e=e<<1|l&1,c==n-1?(c=0,f.push(a(e)),e=0):c++,l=l>>1;g--,g==0&&(g=Math.pow(2,u),u++),h[_]=p++,d=String(A)}if(d!==""){if(Object.prototype.hasOwnProperty.call(y,d)){if(d.charCodeAt(0)<256){for(o=0;o<u;o++)e=e<<1,c==n-1?(c=0,f.push(a(e)),e=0):c++;for(l=d.charCodeAt(0),o=0;o<8;o++)e=e<<1|l&1,c==n-1?(c=0,f.push(a(e)),e=0):c++,l=l>>1}else{for(l=1,o=0;o<u;o++)e=e<<1|l,c==n-1?(c=0,f.push(a(e)),e=0):c++,l=0;for(l=d.charCodeAt(0),o=0;o<16;o++)e=e<<1|l&1,c==n-1?(c=0,f.push(a(e)),e=0):c++,l=l>>1}g--,g==0&&(g=Math.pow(2,u),u++),delete y[d]}else for(l=h[d],o=0;o<u;o++)e=e<<1|l&1,c==n-1?(c=0,f.push(a(e)),e=0):c++,l=l>>1;g--,g==0&&(g=Math.pow(2,u),u++)}for(l=2,o=0;o<u;o++)e=e<<1|l&1,c==n-1?(c=0,f.push(a(e)),e=0):c++,l=l>>1;for(;;)if(e=e<<1,c==n-1){f.push(a(e));break}else c++;return f.join("")},decompress:function(t){return t==null?"":t==""?null:S._decompress(t.length,32768,function(n){return t.charCodeAt(n)})},_decompress:function(t,n,a){var o=[],l=4,h=4,y=3,A="",_=[],d,g,p,u,f,e,c,i={val:a(0),position:n,index:1};for(d=0;d<3;d+=1)o[d]=d;for(p=0,f=Math.pow(2,2),e=1;e!=f;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=n,i.val=a(i.index++)),p|=(u>0?1:0)*e,e<<=1;switch(p){case 0:for(p=0,f=Math.pow(2,8),e=1;e!=f;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=n,i.val=a(i.index++)),p|=(u>0?1:0)*e,e<<=1;c=s(p);break;case 1:for(p=0,f=Math.pow(2,16),e=1;e!=f;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=n,i.val=a(i.index++)),p|=(u>0?1:0)*e,e<<=1;c=s(p);break;case 2:return""}for(o[3]=c,g=c,_.push(c);;){if(i.index>t)return"";for(p=0,f=Math.pow(2,y),e=1;e!=f;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=n,i.val=a(i.index++)),p|=(u>0?1:0)*e,e<<=1;switch(c=p){case 0:for(p=0,f=Math.pow(2,8),e=1;e!=f;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=n,i.val=a(i.index++)),p|=(u>0?1:0)*e,e<<=1;o[h++]=s(p),c=h-1,l--;break;case 1:for(p=0,f=Math.pow(2,16),e=1;e!=f;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=n,i.val=a(i.index++)),p|=(u>0?1:0)*e,e<<=1;o[h++]=s(p),c=h-1,l--;break;case 2:return _.join("")}if(l==0&&(l=Math.pow(2,y),y++),o[c])A=o[c];else if(c===h)A=g+g.charAt(0);else return null;_.push(A),o[h++]=g+A.charAt(0),l--,g=A,l==0&&(l=Math.pow(2,y),y++)}}};return S}();w!=null?w.exports=r:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return r})}(R)),R.exports}var G=B();const O=L(G);class b{constructor(){this.STORAGE_KEY="brightly_quiz_results",this.MAX_STORAGE_SIZE=4.5*1024*1024,this.MAX_RESULTS=100}compress(r){try{const s=JSON.stringify(r);return O.compress(s)}catch(s){return console.error("Compression error:",s),null}}decompress(r){try{const s=O.decompress(r);return JSON.parse(s)}catch(s){return console.error("Decompression error:",s),null}}getAllResults(){try{const r=localStorage.getItem(this.STORAGE_KEY);return r?this.decompress(r)||[]:[]}catch(r){return console.error("Error reading quiz results:",r),[]}}saveResult(r){try{const s=this.getAllResults(),m={...r,id:this.generateId(),timestamp:new Date().toISOString(),dateTime:new Date().toLocaleString()};s.unshift(m),this.cleanupResults(s);const v=this.compress(s);if(!v)throw new Error("Failed to compress data");return v.length>this.MAX_STORAGE_SIZE?(console.warn("Quiz result too large to store"),!1):(localStorage.setItem(this.STORAGE_KEY,v),!0)}catch(s){return console.error("Error saving quiz result:",s),!1}}cleanupResults(r){for(;r.length>this.MAX_RESULTS;)r.pop();let s=this.compress(r);for(;s&&s.length>this.MAX_STORAGE_SIZE&&r.length>1;)r.pop(),s=this.compress(r)}getResultById(r){return this.getAllResults().find(m=>m.id===r)}deleteResult(r){try{const m=this.getAllResults().filter(E=>E.id!==r),v=this.compress(m);return v?(localStorage.setItem(this.STORAGE_KEY,v),!0):!1}catch(s){return console.error("Error deleting quiz result:",s),!1}}clearAllResults(){try{return localStorage.removeItem(this.STORAGE_KEY),!0}catch(r){return console.error("Error clearing quiz results:",r),!1}}getStorageStats(){try{const r=localStorage.getItem(this.STORAGE_KEY);if(!r)return{totalResults:0,storageUsed:0,storageLimit:this.MAX_STORAGE_SIZE,storagePercentage:0};const s=this.getAllResults(),m=r.length,v=m/this.MAX_STORAGE_SIZE*100;return{totalResults:s.length,storageUsed:m,storageLimit:this.MAX_STORAGE_SIZE,storagePercentage:Math.round(v*100)/100}}catch(r){return console.error("Error getting storage stats:",r),null}}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getQuizType(r){const s=r.toLowerCase();return s.includes("math")||s.includes("basics")?"Math Basics":s.includes("grammar")||s.includes("english")?"English Grammar":s.includes("habits")?"Habits Quiz":s.includes("kannada")?"Kannada Quiz":s.includes("hindi")?"Hindi Quiz":s.includes("general")||s.includes("knowledge")?"General Knowledge":r}formatQuizResult(r,s){return{quizType:this.getQuizType(s),quizTitle:s,totalQuestions:r.totalQuestions,correctAnswers:r.correctAnswers,incorrectAnswers:r.totalQuestions-r.correctAnswers,score:r.score,timeSpent:r.timeSpent,questions:r.questions.map(m=>({question:m.question,correctAnswer:m.correctAnswer,userAnswer:m.userAnswer,isCorrect:m.isCorrect,timeSpent:m.timeSpent})),configuration:r.configuration||{}}}}const j=new b;export{L as g,z as i,j as q,U as s,I as t};
